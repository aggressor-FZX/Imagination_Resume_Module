[
  {
    "test_name": "basic_text_only",
    "config": {},
    "success": true,
    "error": null,
    "performance": {
      "duration_seconds": 5.606051445007324,
      "memory_used_mb": 31.03125,
      "peak_memory_mb": 11.622105598449707,
      "cpu_percent": 2.5
    },
    "validation": {
      "is_valid": true,
      "errors": [],
      "warnings": []
    },
    "token_accuracy": {
      "total_accuracy": false,
      "discrepancies": [
        "Total tokens mismatch: calculated=0, reported=838"
      ],
      "calculated_total": 0,
      "reported_total": 838
    },
    "output": {
      "experiences": [
        {
          "title_line": "Senior Data Engineer \u2014 Acme Corp",
          "skills": [
            "api",
            "devops",
            "cloud",
            "python",
            "communication",
            "data-analysis"
          ],
          "snippet": "2021 - Present Built data pipelines in Python using AWS (S3, Lambda). Implemented CI/CD with Terraform and Jenkins. Created REST APIs for data access. Increased ETL throughput by 40%."
        },
        {
          "title_line": "Machine Learning Intern \u2014 Example Labs",
          "skills": [
            "testing",
            "machine-learning"
          ],
          "snippet": "2020 - 2021 Trained and evaluated classification models using scikit-learn and PyTorch. Conducted feature engineering and A/B testing. Wrote unit tests with pytest."
        },
        {
          "title_line": "Product Analyst \u2014 Widgets Inc",
          "skills": [
            "communication",
            "data-analysis",
            "project-management"
          ],
          "snippet": "2018 - 2020 Performed product analytics using SQL and Tableau; presented findings to stakeholders and helped define roadmap priorities."
        }
      ],
      "aggregate_skills": [
        "api",
        "cloud",
        "communication",
        "data-analysis",
        "devops",
        "leadership",
        "machine-learning",
        "project-management",
        "python",
        "testing"
      ],
      "processed_skills": {
        "high_confidence": [],
        "medium_confidence": [],
        "low_confidence": [
          "api",
          "cloud",
          "communication",
          "data-analysis",
          "devops",
          "leadership",
          "machine-learning",
          "project-management",
          "python",
          "testing"
        ],
        "inferred_skills": [
          "scripting",
          "automation",
          "data_processing",
          "backend_development",
          "api_development",
          "debugging"
        ]
      },
      "domain_insights": {
        "insights": [],
        "skills": [],
        "domain": "unknown",
        "market_demand": "Unknown",
        "skill_gap_priority": "Medium",
        "emerging_trends": []
      },
      "gap_analysis": "{\"critical_gaps\": [], \"medium_gaps\": [], \"nice_to_have_gaps\": [], \"bridging_strategies\": [{\"gap\": \"Highlighting relevant achievements\", \"suggestion\": \"Ensure your most relevant achievements are prominently featured in your resume, focusing on quantifiable results and impact.\"}], \"overall_summary\": \"No critical gaps detected against the job ad keywords. Resume shows a strong technical foundation with skills in Python, DevOps, and cloud, but ensure achievements are highlighted to demonstrate impact and progression towards senior roles.\"}",
      "seniority_analysis": {
        "level": "junior",
        "confidence": 0.6266666666666667,
        "total_years_experience": 4.0,
        "experience_quality_score": 0.30833333333333335,
        "leadership_score": 0.045,
        "skill_depth_score": 0.43000000000000005,
        "achievement_complexity_score": 0.0,
        "reasoning": "4.0 years of experience suggests growing expertise Solid technical foundation with intermediate to advanced skills",
        "recommendations": [
          "Focus on building technical depth in core skills",
          "Seek opportunities for mentorship and code reviews",
          "Work on small to medium-sized features independently",
          "Develop understanding of system architecture"
        ]
      },
      "final_written_section": "",
      "suggested_experiences": {
        "bridging_gaps": [],
        "metric_improvements": []
      },
      "run_metrics": {
        "calls": [
          {
            "provider": "OpenRouter",
            "model": "deepseek/deepseek-chat-v3.1",
            "prompt_tokens": 712,
            "completion_tokens": 126,
            "duration_ms": 2804,
            "cost_usd": 0.0002432
          }
        ],
        "total_prompt_tokens": 712,
        "total_completion_tokens": 126,
        "total_tokens": 838,
        "estimated_cost_usd": 0.0002432,
        "failures": [
          {
            "provider": "OpenRouter",
            "model": "deepseek/deepseek-chat-v3.1",
            "attempt": 1,
            "error": "Error code: 401 - {'error': {'message': 'User not found.', 'code': 401}}"
          },
          {
            "provider": "OpenRouter",
            "model": "anthropic/claude-3-haiku",
            "attempt": 2,
            "error": "Error code: 401 - {'error': {'message': 'User not found.', 'code': 401}}"
          },
          {
            "provider": "OpenRouter",
            "model": "qwen/qwen3-30b-a3b",
            "attempt": 3,
            "error": "Error code: 401 - {'error': {'message': 'User not found.', 'code': 401}}"
          },
          {
            "provider": "Google",
            "model": "gemini-2.5-flash",
            "attempt": 1,
            "error": "403 Your API key was reported as leaked. Please use another API key."
          },
          {
            "provider": "Google",
            "model": "gemini-2.5-pro",
            "attempt": 2,
            "error": "403 Your API key was reported as leaked. Please use another API key."
          },
          {
            "provider": "Google",
            "model": "gemini-2.5-flash",
            "attempt": 1,
            "error": "403 Your API key was reported as leaked. Please use another API key."
          },
          {
            "provider": "Google",
            "model": "gemini-2.5-pro",
            "attempt": 2,
            "error": "403 Your API key was reported as leaked. Please use another API key."
          }
        ],
        "stages": {
          "analysis": {
            "start": 1766039101.4878316,
            "end": 1766039101.9858608,
            "duration_ms": 498,
            "cache_hit": false
          },
          "generation": {
            "start": null,
            "end": null,
            "duration_ms": null,
            "cache_hit": false
          },
          "synthesis": {
            "start": null,
            "end": null,
            "duration_ms": null,
            "cache_hit": false
          },
          "criticism": {
            "start": 1766039102.5737393,
            "end": 1766039103.027702,
            "duration_ms": 453,
            "cache_hit": false
          }
        },
        "transport": {
          "http_pool": {
            "requests_total": 6,
            "errors_total": 6,
            "timeouts_total": 0,
            "status_counts": {},
            "latency_ms": {
              "p50": 12,
              "p95": 13,
              "last": 12
            }
          }
        }
      }
    }
  },
  {
    "test_name": "with_structured_skills",
    "config": {
      "skills_json": {
        "title": "Senior Software Engineer",
        "canonical_title": "senior software engineer",
        "skills": [
          {
            "skill": "python",
            "confidence": 0.95
          },
          {
            "skill": "javascript",
            "confidence": 0.89
          },
          {
            "skill": "aws",
            "confidence": 0.92
          },
          {
            "skill": "docker",
            "confidence": 0.87
          },
          {
            "skill": "kubernetes",
            "confidence": 0.78
          },
          {
            "skill": "machine learning",
            "confidence": 0.65
          },
          {
            "skill": "react",
            "confidence": 0.72
          }
        ],
        "overall_confidence": 0.89,
        "processing_metadata": {
          "sections_processed": 4,
          "skills_filtered": 12,
          "domain_classified": "tech"
        }
      }
    },
    "success": true,
    "error": null,
    "performance": {
      "duration_seconds": 1.483130931854248,
      "memory_used_mb": 0.5,
      "peak_memory_mb": 0.20432472229003906,
      "cpu_percent": 3.1
    },
    "validation": {
      "is_valid": true,
      "errors": [],
      "warnings": []
    },
    "token_accuracy": {
      "total_accuracy": true,
      "discrepancies": [],
      "calculated_total": 0,
      "reported_total": 0
    },
    "output": {
      "experiences": [
        {
          "title_line": "Senior Data Engineer \u2014 Acme Corp",
          "skills": [
            "api",
            "devops",
            "cloud",
            "python",
            "communication",
            "data-analysis"
          ],
          "snippet": "2021 - Present Built data pipelines in Python using AWS (S3, Lambda). Implemented CI/CD with Terraform and Jenkins. Created REST APIs for data access. Increased ETL throughput by 40%."
        },
        {
          "title_line": "Machine Learning Intern \u2014 Example Labs",
          "skills": [
            "testing",
            "machine-learning"
          ],
          "snippet": "2020 - 2021 Trained and evaluated classification models using scikit-learn and PyTorch. Conducted feature engineering and A/B testing. Wrote unit tests with pytest."
        },
        {
          "title_line": "Product Analyst \u2014 Widgets Inc",
          "skills": [
            "communication",
            "data-analysis",
            "project-management"
          ],
          "snippet": "2018 - 2020 Performed product analytics using SQL and Tableau; presented findings to stakeholders and helped define roadmap priorities."
        }
      ],
      "aggregate_skills": [
        "api",
        "cloud",
        "communication",
        "data-analysis",
        "devops",
        "leadership",
        "machine-learning",
        "project-management",
        "python",
        "testing"
      ],
      "processed_skills": {
        "high_confidence": [],
        "medium_confidence": [],
        "low_confidence": [
          "api",
          "cloud",
          "communication",
          "data-analysis",
          "devops",
          "leadership",
          "machine-learning",
          "project-management",
          "python",
          "testing"
        ],
        "inferred_skills": [
          "scripting",
          "automation",
          "data_processing",
          "backend_development",
          "api_development",
          "debugging"
        ]
      },
      "domain_insights": {
        "insights": [],
        "skills": [],
        "domain": "unknown",
        "market_demand": "Unknown",
        "skill_gap_priority": "Medium",
        "emerging_trends": []
      },
      "gap_analysis": "{\"critical_gaps\": [], \"nice_to_have_gaps\": [], \"gap_bridging_strategy\": \"Ensure your most relevant achievements are highlighted.\", \"summary\": \"No critical gaps detected against the job ad keywords. Ensure your most relevant achievements are highlighted.\"}",
      "seniority_analysis": {
        "level": "junior",
        "confidence": 0.6266666666666667,
        "total_years_experience": 4.0,
        "experience_quality_score": 0.30833333333333335,
        "leadership_score": 0.045,
        "skill_depth_score": 0.43000000000000005,
        "achievement_complexity_score": 0.0,
        "reasoning": "4.0 years of experience suggests growing expertise Solid technical foundation with intermediate to advanced skills",
        "recommendations": [
          "Focus on building technical depth in core skills",
          "Seek opportunities for mentorship and code reviews",
          "Work on small to medium-sized features independently",
          "Develop understanding of system architecture"
        ]
      },
      "final_written_section": "",
      "suggested_experiences": {
        "bridging_gaps": [],
        "metric_improvements": []
      },
      "run_metrics": {
        "calls": [],
        "total_prompt_tokens": 0,
        "total_completion_tokens": 0,
        "total_tokens": 0,
        "estimated_cost_usd": 0.0,
        "failures": [
          {
            "provider": "Google",
            "model": "gemini-2.5-flash",
            "attempt": 1,
            "error": "403 Your API key was reported as leaked. Please use another API key."
          },
          {
            "provider": "Google",
            "model": "gemini-2.5-pro",
            "attempt": 2,
            "error": "403 Your API key was reported as leaked. Please use another API key."
          },
          {
            "stage": "gap_llm",
            "error": "All LLM providers failed: Google (gemini-2.5-flash) Error: 403 Your API key was reported as leaked. Please use another API key. | Google (gemini-2.5-pro) Error: 403 Your API key was reported as leaked. Please use another API key."
          },
          {
            "provider": "Google",
            "model": "gemini-2.5-flash",
            "attempt": 1,
            "error": "403 Your API key was reported as leaked. Please use another API key."
          },
          {
            "provider": "Google",
            "model": "gemini-2.5-pro",
            "attempt": 2,
            "error": "403 Your API key was reported as leaked. Please use another API key."
          },
          {
            "provider": "Google",
            "model": "gemini-2.5-flash",
            "attempt": 1,
            "error": "403 Your API key was reported as leaked. Please use another API key."
          },
          {
            "provider": "Google",
            "model": "gemini-2.5-pro",
            "attempt": 2,
            "error": "403 Your API key was reported as leaked. Please use another API key."
          }
        ],
        "stages": {
          "analysis": {
            "start": 1766039101.4878316,
            "end": 1766039101.9858608,
            "duration_ms": 498,
            "cache_hit": false
          },
          "generation": {
            "start": null,
            "end": null,
            "duration_ms": null,
            "cache_hit": false
          },
          "synthesis": {
            "start": null,
            "end": null,
            "duration_ms": null,
            "cache_hit": false
          },
          "criticism": {
            "start": 1766039102.5737393,
            "end": 1766039103.027702,
            "duration_ms": 453,
            "cache_hit": false
          }
        },
        "transport": {
          "http_pool": {
            "requests_total": 6,
            "errors_total": 6,
            "timeouts_total": 0,
            "status_counts": {},
            "latency_ms": {
              "p50": 12,
              "p95": 13,
              "last": 12
            }
          }
        }
      }
    }
  },
  {
    "test_name": "with_domain_insights",
    "config": {
      "insights_json": {
        "domain": "tech",
        "insights": {
          "strengths": [
            "Strong Python development skills",
            "Cloud infrastructure expertise",
            "Container orchestration experience"
          ],
          "gaps": [
            "Limited machine learning expertise",
            "Frontend development could be stronger",
            "DevOps pipeline automation"
          ],
          "recommendations": [
            "Focus on MLOps and model deployment",
            "Strengthen React/Next.js skills for full-stack development",
            "Pursue AWS DevOps Professional certification",
            "Build portfolio projects showcasing cloud-native applications"
          ],
          "market_alignment": 0.78
        },
        "processing_metadata": {
          "sections_processed": [
            "experience",
            "skills",
            "projects"
          ],
          "optimizations_applied": [
            "domain_specific_processing",
            "confidence_weighting"
          ]
        }
      }
    },
    "success": true,
    "error": null,
    "performance": {
      "duration_seconds": 1.3815598487854004,
      "memory_used_mb": 0.375,
      "peak_memory_mb": 0.19078731536865234,
      "cpu_percent": 3.0
    },
    "validation": {
      "is_valid": true,
      "errors": [],
      "warnings": []
    },
    "token_accuracy": {
      "total_accuracy": true,
      "discrepancies": [],
      "calculated_total": 0,
      "reported_total": 0
    },
    "output": {
      "experiences": [
        {
          "title_line": "Senior Data Engineer \u2014 Acme Corp",
          "skills": [
            "api",
            "devops",
            "cloud",
            "python",
            "communication",
            "data-analysis"
          ],
          "snippet": "2021 - Present Built data pipelines in Python using AWS (S3, Lambda). Implemented CI/CD with Terraform and Jenkins. Created REST APIs for data access. Increased ETL throughput by 40%."
        },
        {
          "title_line": "Machine Learning Intern \u2014 Example Labs",
          "skills": [
            "testing",
            "machine-learning"
          ],
          "snippet": "2020 - 2021 Trained and evaluated classification models using scikit-learn and PyTorch. Conducted feature engineering and A/B testing. Wrote unit tests with pytest."
        },
        {
          "title_line": "Product Analyst \u2014 Widgets Inc",
          "skills": [
            "communication",
            "data-analysis",
            "project-management"
          ],
          "snippet": "2018 - 2020 Performed product analytics using SQL and Tableau; presented findings to stakeholders and helped define roadmap priorities."
        }
      ],
      "aggregate_skills": [
        "api",
        "cloud",
        "communication",
        "data-analysis",
        "devops",
        "leadership",
        "machine-learning",
        "project-management",
        "python",
        "testing"
      ],
      "processed_skills": {
        "high_confidence": [],
        "medium_confidence": [],
        "low_confidence": [
          "api",
          "cloud",
          "communication",
          "data-analysis",
          "devops",
          "leadership",
          "machine-learning",
          "project-management",
          "python",
          "testing"
        ],
        "inferred_skills": [
          "scripting",
          "automation",
          "data_processing",
          "backend_development",
          "api_development",
          "debugging"
        ]
      },
      "domain_insights": {
        "insights": [],
        "skills": [],
        "domain": "unknown",
        "market_demand": "Unknown",
        "skill_gap_priority": "Medium",
        "emerging_trends": []
      },
      "gap_analysis": "{\"critical_gaps\": [], \"nice_to_have_gaps\": [], \"gap_bridging_strategy\": \"Ensure your most relevant achievements are highlighted.\", \"summary\": \"No critical gaps detected against the job ad keywords. Ensure your most relevant achievements are highlighted.\"}",
      "seniority_analysis": {
        "level": "junior",
        "confidence": 0.6266666666666667,
        "total_years_experience": 4.0,
        "experience_quality_score": 0.30833333333333335,
        "leadership_score": 0.045,
        "skill_depth_score": 0.43000000000000005,
        "achievement_complexity_score": 0.0,
        "reasoning": "4.0 years of experience suggests growing expertise Solid technical foundation with intermediate to advanced skills",
        "recommendations": [
          "Focus on building technical depth in core skills",
          "Seek opportunities for mentorship and code reviews",
          "Work on small to medium-sized features independently",
          "Develop understanding of system architecture"
        ]
      },
      "final_written_section": "",
      "suggested_experiences": {
        "bridging_gaps": [],
        "metric_improvements": []
      },
      "run_metrics": {
        "calls": [],
        "total_prompt_tokens": 0,
        "total_completion_tokens": 0,
        "total_tokens": 0,
        "estimated_cost_usd": 0.0,
        "failures": [
          {
            "provider": "Google",
            "model": "gemini-2.5-flash",
            "attempt": 1,
            "error": "403 Your API key was reported as leaked. Please use another API key."
          },
          {
            "provider": "Google",
            "model": "gemini-2.5-pro",
            "attempt": 2,
            "error": "403 Your API key was reported as leaked. Please use another API key."
          },
          {
            "stage": "gap_llm",
            "error": "All LLM providers failed: Google (gemini-2.5-flash) Error: 403 Your API key was reported as leaked. Please use another API key. | Google (gemini-2.5-pro) Error: 403 Your API key was reported as leaked. Please use another API key."
          },
          {
            "provider": "Google",
            "model": "gemini-2.5-flash",
            "attempt": 1,
            "error": "403 Your API key was reported as leaked. Please use another API key."
          },
          {
            "provider": "Google",
            "model": "gemini-2.5-pro",
            "attempt": 2,
            "error": "403 Your API key was reported as leaked. Please use another API key."
          },
          {
            "provider": "Google",
            "model": "gemini-2.5-flash",
            "attempt": 1,
            "error": "403 Your API key was reported as leaked. Please use another API key."
          },
          {
            "provider": "Google",
            "model": "gemini-2.5-pro",
            "attempt": 2,
            "error": "403 Your API key was reported as leaked. Please use another API key."
          }
        ],
        "stages": {
          "analysis": {
            "start": 1766039101.4878316,
            "end": 1766039101.9858608,
            "duration_ms": 498,
            "cache_hit": false
          },
          "generation": {
            "start": null,
            "end": null,
            "duration_ms": null,
            "cache_hit": false
          },
          "synthesis": {
            "start": null,
            "end": null,
            "duration_ms": null,
            "cache_hit": false
          },
          "criticism": {
            "start": 1766039102.5737393,
            "end": 1766039103.027702,
            "duration_ms": 453,
            "cache_hit": false
          }
        },
        "transport": {
          "http_pool": {
            "requests_total": 6,
            "errors_total": 6,
            "timeouts_total": 0,
            "status_counts": {},
            "latency_ms": {
              "p50": 12,
              "p95": 13,
              "last": 12
            }
          }
        }
      }
    }
  },
  {
    "test_name": "with_all_structured_data",
    "config": {
      "skills_json": {
        "title": "Senior Software Engineer",
        "canonical_title": "senior software engineer",
        "skills": [
          {
            "skill": "python",
            "confidence": 0.95
          },
          {
            "skill": "javascript",
            "confidence": 0.89
          },
          {
            "skill": "aws",
            "confidence": 0.92
          },
          {
            "skill": "docker",
            "confidence": 0.87
          },
          {
            "skill": "kubernetes",
            "confidence": 0.78
          },
          {
            "skill": "machine learning",
            "confidence": 0.65
          },
          {
            "skill": "react",
            "confidence": 0.72
          }
        ],
        "overall_confidence": 0.89,
        "processing_metadata": {
          "sections_processed": 4,
          "skills_filtered": 12,
          "domain_classified": "tech"
        }
      },
      "insights_json": {
        "domain": "tech",
        "insights": {
          "strengths": [
            "Strong Python development skills",
            "Cloud infrastructure expertise",
            "Container orchestration experience"
          ],
          "gaps": [
            "Limited machine learning expertise",
            "Frontend development could be stronger",
            "DevOps pipeline automation"
          ],
          "recommendations": [
            "Focus on MLOps and model deployment",
            "Strengthen React/Next.js skills for full-stack development",
            "Pursue AWS DevOps Professional certification",
            "Build portfolio projects showcasing cloud-native applications"
          ],
          "market_alignment": 0.78
        },
        "processing_metadata": {
          "sections_processed": [
            "experience",
            "skills",
            "projects"
          ],
          "optimizations_applied": [
            "domain_specific_processing",
            "confidence_weighting"
          ]
        }
      }
    },
    "success": true,
    "error": null,
    "performance": {
      "duration_seconds": 1.0737597942352295,
      "memory_used_mb": 0.625,
      "peak_memory_mb": 0.18400192260742188,
      "cpu_percent": 7.2
    },
    "validation": {
      "is_valid": true,
      "errors": [],
      "warnings": []
    },
    "token_accuracy": {
      "total_accuracy": true,
      "discrepancies": [],
      "calculated_total": 0,
      "reported_total": 0
    },
    "output": {
      "experiences": [
        {
          "title_line": "Senior Data Engineer \u2014 Acme Corp",
          "skills": [
            "api",
            "devops",
            "cloud",
            "python",
            "communication",
            "data-analysis"
          ],
          "snippet": "2021 - Present Built data pipelines in Python using AWS (S3, Lambda). Implemented CI/CD with Terraform and Jenkins. Created REST APIs for data access. Increased ETL throughput by 40%."
        },
        {
          "title_line": "Machine Learning Intern \u2014 Example Labs",
          "skills": [
            "testing",
            "machine-learning"
          ],
          "snippet": "2020 - 2021 Trained and evaluated classification models using scikit-learn and PyTorch. Conducted feature engineering and A/B testing. Wrote unit tests with pytest."
        },
        {
          "title_line": "Product Analyst \u2014 Widgets Inc",
          "skills": [
            "communication",
            "data-analysis",
            "project-management"
          ],
          "snippet": "2018 - 2020 Performed product analytics using SQL and Tableau; presented findings to stakeholders and helped define roadmap priorities."
        }
      ],
      "aggregate_skills": [
        "api",
        "cloud",
        "communication",
        "data-analysis",
        "devops",
        "leadership",
        "machine-learning",
        "project-management",
        "python",
        "testing"
      ],
      "processed_skills": {
        "high_confidence": [],
        "medium_confidence": [],
        "low_confidence": [
          "api",
          "cloud",
          "communication",
          "data-analysis",
          "devops",
          "leadership",
          "machine-learning",
          "project-management",
          "python",
          "testing"
        ],
        "inferred_skills": [
          "scripting",
          "automation",
          "data_processing",
          "backend_development",
          "api_development",
          "debugging"
        ]
      },
      "domain_insights": {
        "insights": [],
        "skills": [],
        "domain": "unknown",
        "market_demand": "Unknown",
        "skill_gap_priority": "Medium",
        "emerging_trends": []
      },
      "gap_analysis": "{\"critical_gaps\": [], \"nice_to_have_gaps\": [], \"gap_bridging_strategy\": \"Ensure your most relevant achievements are highlighted.\", \"summary\": \"No critical gaps detected against the job ad keywords. Ensure your most relevant achievements are highlighted.\"}",
      "seniority_analysis": {
        "level": "junior",
        "confidence": 0.6266666666666667,
        "total_years_experience": 4.0,
        "experience_quality_score": 0.30833333333333335,
        "leadership_score": 0.045,
        "skill_depth_score": 0.43000000000000005,
        "achievement_complexity_score": 0.0,
        "reasoning": "4.0 years of experience suggests growing expertise Solid technical foundation with intermediate to advanced skills",
        "recommendations": [
          "Focus on building technical depth in core skills",
          "Seek opportunities for mentorship and code reviews",
          "Work on small to medium-sized features independently",
          "Develop understanding of system architecture"
        ]
      },
      "final_written_section": "",
      "suggested_experiences": {
        "bridging_gaps": [],
        "metric_improvements": []
      },
      "run_metrics": {
        "calls": [],
        "total_prompt_tokens": 0,
        "total_completion_tokens": 0,
        "total_tokens": 0,
        "estimated_cost_usd": 0.0,
        "failures": [
          {
            "provider": "Google",
            "model": "gemini-2.5-flash",
            "attempt": 1,
            "error": "403 Your API key was reported as leaked. Please use another API key."
          },
          {
            "provider": "Google",
            "model": "gemini-2.5-pro",
            "attempt": 2,
            "error": "403 Your API key was reported as leaked. Please use another API key."
          },
          {
            "stage": "gap_llm",
            "error": "All LLM providers failed: Google (gemini-2.5-flash) Error: 403 Your API key was reported as leaked. Please use another API key. | Google (gemini-2.5-pro) Error: 403 Your API key was reported as leaked. Please use another API key."
          },
          {
            "provider": "Google",
            "model": "gemini-2.5-flash",
            "attempt": 1,
            "error": "403 Your API key was reported as leaked. Please use another API key."
          },
          {
            "provider": "Google",
            "model": "gemini-2.5-pro",
            "attempt": 2,
            "error": "403 Your API key was reported as leaked. Please use another API key."
          },
          {
            "provider": "Google",
            "model": "gemini-2.5-flash",
            "attempt": 1,
            "error": "403 Your API key was reported as leaked. Please use another API key."
          },
          {
            "provider": "Google",
            "model": "gemini-2.5-pro",
            "attempt": 2,
            "error": "403 Your API key was reported as leaked. Please use another API key."
          }
        ],
        "stages": {
          "analysis": {
            "start": 1766039101.4878316,
            "end": 1766039101.9858608,
            "duration_ms": 498,
            "cache_hit": false
          },
          "generation": {
            "start": null,
            "end": null,
            "duration_ms": null,
            "cache_hit": false
          },
          "synthesis": {
            "start": null,
            "end": null,
            "duration_ms": null,
            "cache_hit": false
          },
          "criticism": {
            "start": 1766039102.5737393,
            "end": 1766039103.027702,
            "duration_ms": 453,
            "cache_hit": false
          }
        },
        "transport": {
          "http_pool": {
            "requests_total": 6,
            "errors_total": 6,
            "timeouts_total": 0,
            "status_counts": {},
            "latency_ms": {
              "p50": 12,
              "p95": 13,
              "last": 12
            }
          }
        }
      }
    }
  },
  {
    "test_name": "high_confidence_threshold",
    "config": {
      "skills_json": {
        "title": "Senior Software Engineer",
        "canonical_title": "senior software engineer",
        "skills": [
          {
            "skill": "python",
            "confidence": 0.95
          },
          {
            "skill": "javascript",
            "confidence": 0.89
          },
          {
            "skill": "aws",
            "confidence": 0.92
          },
          {
            "skill": "docker",
            "confidence": 0.87
          },
          {
            "skill": "kubernetes",
            "confidence": 0.78
          },
          {
            "skill": "machine learning",
            "confidence": 0.65
          },
          {
            "skill": "react",
            "confidence": 0.72
          }
        ],
        "overall_confidence": 0.89,
        "processing_metadata": {
          "sections_processed": 4,
          "skills_filtered": 12,
          "domain_classified": "tech"
        }
      },
      "confidence_threshold": 0.9
    },
    "success": true,
    "error": null,
    "performance": {
      "duration_seconds": 1.413766622543335,
      "memory_used_mb": 0.625,
      "peak_memory_mb": 0.20154666900634766,
      "cpu_percent": 4.0
    },
    "validation": {
      "is_valid": true,
      "errors": [],
      "warnings": []
    },
    "token_accuracy": {
      "total_accuracy": true,
      "discrepancies": [],
      "calculated_total": 0,
      "reported_total": 0
    },
    "output": {
      "experiences": [
        {
          "title_line": "Senior Data Engineer \u2014 Acme Corp",
          "skills": [
            "api",
            "devops",
            "cloud",
            "python",
            "communication",
            "data-analysis"
          ],
          "snippet": "2021 - Present Built data pipelines in Python using AWS (S3, Lambda). Implemented CI/CD with Terraform and Jenkins. Created REST APIs for data access. Increased ETL throughput by 40%."
        },
        {
          "title_line": "Machine Learning Intern \u2014 Example Labs",
          "skills": [
            "testing",
            "machine-learning"
          ],
          "snippet": "2020 - 2021 Trained and evaluated classification models using scikit-learn and PyTorch. Conducted feature engineering and A/B testing. Wrote unit tests with pytest."
        },
        {
          "title_line": "Product Analyst \u2014 Widgets Inc",
          "skills": [
            "communication",
            "data-analysis",
            "project-management"
          ],
          "snippet": "2018 - 2020 Performed product analytics using SQL and Tableau; presented findings to stakeholders and helped define roadmap priorities."
        }
      ],
      "aggregate_skills": [
        "api",
        "cloud",
        "communication",
        "data-analysis",
        "devops",
        "leadership",
        "machine-learning",
        "project-management",
        "python",
        "testing"
      ],
      "processed_skills": {
        "high_confidence": [],
        "medium_confidence": [
          "api",
          "cloud",
          "communication",
          "data-analysis",
          "devops",
          "leadership",
          "machine-learning",
          "project-management",
          "python",
          "testing"
        ],
        "low_confidence": [],
        "inferred_skills": [
          "scripting",
          "automation",
          "data_processing",
          "backend_development",
          "api_development",
          "debugging"
        ]
      },
      "domain_insights": {
        "insights": [],
        "skills": [],
        "domain": "unknown",
        "market_demand": "Unknown",
        "skill_gap_priority": "Medium",
        "emerging_trends": []
      },
      "gap_analysis": "{\"critical_gaps\": [], \"nice_to_have_gaps\": [], \"gap_bridging_strategy\": \"Ensure your most relevant achievements are highlighted.\", \"summary\": \"No critical gaps detected against the job ad keywords. Ensure your most relevant achievements are highlighted.\"}",
      "seniority_analysis": {
        "level": "junior",
        "confidence": 0.6266666666666667,
        "total_years_experience": 4.0,
        "experience_quality_score": 0.30833333333333335,
        "leadership_score": 0.045,
        "skill_depth_score": 0.43000000000000005,
        "achievement_complexity_score": 0.0,
        "reasoning": "4.0 years of experience suggests growing expertise Solid technical foundation with intermediate to advanced skills",
        "recommendations": [
          "Focus on building technical depth in core skills",
          "Seek opportunities for mentorship and code reviews",
          "Work on small to medium-sized features independently",
          "Develop understanding of system architecture"
        ]
      },
      "final_written_section": "",
      "suggested_experiences": {
        "bridging_gaps": [],
        "metric_improvements": []
      },
      "run_metrics": {
        "calls": [],
        "total_prompt_tokens": 0,
        "total_completion_tokens": 0,
        "total_tokens": 0,
        "estimated_cost_usd": 0.0,
        "failures": [
          {
            "provider": "Google",
            "model": "gemini-2.5-flash",
            "attempt": 1,
            "error": "403 Your API key was reported as leaked. Please use another API key."
          },
          {
            "provider": "Google",
            "model": "gemini-2.5-pro",
            "attempt": 2,
            "error": "403 Your API key was reported as leaked. Please use another API key."
          },
          {
            "stage": "gap_llm",
            "error": "All LLM providers failed: Google (gemini-2.5-flash) Error: 403 Your API key was reported as leaked. Please use another API key. | Google (gemini-2.5-pro) Error: 403 Your API key was reported as leaked. Please use another API key."
          },
          {
            "provider": "Google",
            "model": "gemini-2.5-flash",
            "attempt": 1,
            "error": "403 Your API key was reported as leaked. Please use another API key."
          },
          {
            "provider": "Google",
            "model": "gemini-2.5-pro",
            "attempt": 2,
            "error": "403 Your API key was reported as leaked. Please use another API key."
          },
          {
            "provider": "Google",
            "model": "gemini-2.5-flash",
            "attempt": 1,
            "error": "403 Your API key was reported as leaked. Please use another API key."
          },
          {
            "provider": "Google",
            "model": "gemini-2.5-pro",
            "attempt": 2,
            "error": "403 Your API key was reported as leaked. Please use another API key."
          }
        ],
        "stages": {
          "analysis": {
            "start": 1766039101.4878316,
            "end": 1766039101.9858608,
            "duration_ms": 498,
            "cache_hit": false
          },
          "generation": {
            "start": null,
            "end": null,
            "duration_ms": null,
            "cache_hit": false
          },
          "synthesis": {
            "start": null,
            "end": null,
            "duration_ms": null,
            "cache_hit": false
          },
          "criticism": {
            "start": 1766039102.5737393,
            "end": 1766039103.027702,
            "duration_ms": 453,
            "cache_hit": false
          }
        },
        "transport": {
          "http_pool": {
            "requests_total": 6,
            "errors_total": 6,
            "timeouts_total": 0,
            "status_counts": {},
            "latency_ms": {
              "p50": 12,
              "p95": 13,
              "last": 12
            }
          }
        }
      }
    }
  },
  {
    "test_name": "low_confidence_threshold",
    "config": {
      "skills_json": {
        "title": "Senior Software Engineer",
        "canonical_title": "senior software engineer",
        "skills": [
          {
            "skill": "python",
            "confidence": 0.95
          },
          {
            "skill": "javascript",
            "confidence": 0.89
          },
          {
            "skill": "aws",
            "confidence": 0.92
          },
          {
            "skill": "docker",
            "confidence": 0.87
          },
          {
            "skill": "kubernetes",
            "confidence": 0.78
          },
          {
            "skill": "machine learning",
            "confidence": 0.65
          },
          {
            "skill": "react",
            "confidence": 0.72
          }
        ],
        "overall_confidence": 0.89,
        "processing_metadata": {
          "sections_processed": 4,
          "skills_filtered": 12,
          "domain_classified": "tech"
        }
      },
      "confidence_threshold": 0.5
    },
    "success": true,
    "error": null,
    "performance": {
      "duration_seconds": 1.5436155796051025,
      "memory_used_mb": 0.125,
      "peak_memory_mb": 0.22620582580566406,
      "cpu_percent": 0.6
    },
    "validation": {
      "is_valid": true,
      "errors": [],
      "warnings": []
    },
    "token_accuracy": {
      "total_accuracy": true,
      "discrepancies": [],
      "calculated_total": 0,
      "reported_total": 0
    },
    "output": {
      "experiences": [
        {
          "title_line": "Senior Data Engineer \u2014 Acme Corp",
          "skills": [
            "api",
            "devops",
            "cloud",
            "python",
            "communication",
            "data-analysis"
          ],
          "snippet": "2021 - Present Built data pipelines in Python using AWS (S3, Lambda). Implemented CI/CD with Terraform and Jenkins. Created REST APIs for data access. Increased ETL throughput by 40%."
        },
        {
          "title_line": "Machine Learning Intern \u2014 Example Labs",
          "skills": [
            "testing",
            "machine-learning"
          ],
          "snippet": "2020 - 2021 Trained and evaluated classification models using scikit-learn and PyTorch. Conducted feature engineering and A/B testing. Wrote unit tests with pytest."
        },
        {
          "title_line": "Product Analyst \u2014 Widgets Inc",
          "skills": [
            "communication",
            "data-analysis",
            "project-management"
          ],
          "snippet": "2018 - 2020 Performed product analytics using SQL and Tableau; presented findings to stakeholders and helped define roadmap priorities."
        }
      ],
      "aggregate_skills": [
        "api",
        "cloud",
        "communication",
        "data-analysis",
        "devops",
        "leadership",
        "machine-learning",
        "project-management",
        "python",
        "testing"
      ],
      "processed_skills": {
        "high_confidence": [],
        "medium_confidence": [],
        "low_confidence": [
          "api",
          "cloud",
          "communication",
          "data-analysis",
          "devops",
          "leadership",
          "machine-learning",
          "project-management",
          "python",
          "testing"
        ],
        "inferred_skills": [
          "scripting",
          "automation",
          "data_processing",
          "backend_development",
          "api_development",
          "debugging"
        ]
      },
      "domain_insights": {
        "insights": [],
        "skills": [],
        "domain": "unknown",
        "market_demand": "Unknown",
        "skill_gap_priority": "Medium",
        "emerging_trends": []
      },
      "gap_analysis": "{\"critical_gaps\": [], \"nice_to_have_gaps\": [], \"gap_bridging_strategy\": \"Ensure your most relevant achievements are highlighted.\", \"summary\": \"No critical gaps detected against the job ad keywords. Ensure your most relevant achievements are highlighted.\"}",
      "seniority_analysis": {
        "level": "junior",
        "confidence": 0.6266666666666667,
        "total_years_experience": 4.0,
        "experience_quality_score": 0.30833333333333335,
        "leadership_score": 0.045,
        "skill_depth_score": 0.43000000000000005,
        "achievement_complexity_score": 0.0,
        "reasoning": "4.0 years of experience suggests growing expertise Solid technical foundation with intermediate to advanced skills",
        "recommendations": [
          "Focus on building technical depth in core skills",
          "Seek opportunities for mentorship and code reviews",
          "Work on small to medium-sized features independently",
          "Develop understanding of system architecture"
        ]
      },
      "final_written_section": "",
      "suggested_experiences": {
        "bridging_gaps": [],
        "metric_improvements": []
      },
      "run_metrics": {
        "calls": [],
        "total_prompt_tokens": 0,
        "total_completion_tokens": 0,
        "total_tokens": 0,
        "estimated_cost_usd": 0.0,
        "failures": [
          {
            "provider": "Google",
            "model": "gemini-2.5-flash",
            "attempt": 1,
            "error": "403 Your API key was reported as leaked. Please use another API key."
          },
          {
            "provider": "Google",
            "model": "gemini-2.5-pro",
            "attempt": 2,
            "error": "403 Your API key was reported as leaked. Please use another API key."
          },
          {
            "stage": "gap_llm",
            "error": "All LLM providers failed: Google (gemini-2.5-flash) Error: 403 Your API key was reported as leaked. Please use another API key. | Google (gemini-2.5-pro) Error: 403 Your API key was reported as leaked. Please use another API key."
          },
          {
            "provider": "Google",
            "model": "gemini-2.5-flash",
            "attempt": 1,
            "error": "403 Your API key was reported as leaked. Please use another API key."
          },
          {
            "provider": "Google",
            "model": "gemini-2.5-pro",
            "attempt": 2,
            "error": "403 Your API key was reported as leaked. Please use another API key."
          },
          {
            "provider": "Google",
            "model": "gemini-2.5-flash",
            "attempt": 1,
            "error": "403 Your API key was reported as leaked. Please use another API key."
          },
          {
            "provider": "Google",
            "model": "gemini-2.5-pro",
            "attempt": 2,
            "error": "403 Your API key was reported as leaked. Please use another API key."
          }
        ],
        "stages": {
          "analysis": {
            "start": 1766039101.4878316,
            "end": 1766039101.9858608,
            "duration_ms": 498,
            "cache_hit": false
          },
          "generation": {
            "start": null,
            "end": null,
            "duration_ms": null,
            "cache_hit": false
          },
          "synthesis": {
            "start": null,
            "end": null,
            "duration_ms": null,
            "cache_hit": false
          },
          "criticism": {
            "start": 1766039102.5737393,
            "end": 1766039103.027702,
            "duration_ms": 453,
            "cache_hit": false
          }
        },
        "transport": {
          "http_pool": {
            "requests_total": 6,
            "errors_total": 6,
            "timeouts_total": 0,
            "status_counts": {},
            "latency_ms": {
              "p50": 12,
              "p95": 13,
              "last": 12
            }
          }
        }
      }
    }
  }
]